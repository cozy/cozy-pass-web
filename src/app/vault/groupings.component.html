<div class="mac-bar"></div>
<div class="content">
    <div class="inner-content">
        <h2 class="sr-only">{{'filters' | i18n}}</h2>
        <ul>
            <!-- <li [ngClass]="{active: selectedAll}">
                <a href="#" appStopClick appBlurClick (click)="selectAll()">
                    <i class="fa fa-fw fa-th" aria-hidden="true"></i>&nbsp;{{'allItems' | i18n}}
                </a>
            </li> -->
            <!-- <li [ngClass]="{active: selectedFavorites}">
                <a href="#" appStopClick appBlurClick (click)="selectFavorites()">
                    <i class="fa fa-fw fa-star" aria-hidden="true"></i>&nbsp;{{'favorites' | i18n}}
                </a>
            </li> -->
            <!-- <li [ngClass]="{active: selectedTrash}">
                <a href="#" appStopClick appBlurClick (click)="selectTrash()">
                    <i class="fa fa-fw fa-trash-o" aria-hidden="true"></i>&nbsp;{{'trash' | i18n}}
                </a>
            </li> -->
        </ul>
        <h2>{{'types' | i18n}}</h2>
        <ul>
            <li [ngClass]="{active: selectedAll}">
                <a href="#" appStopClick appBlurClick (click)="selectAll()">
                    <svg class="icon-type" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" enable-background="new 0 0 24 24" fill="#297EF2">
                        <path style="text-indent:0;text-align:start;line-height:normal;text-transform:none;block-progression:tb;-inkscape-font-specification:Bitstream Vera Sans" d="M 7 7 C 4.2545455 7 2 9.2545455 2 12 C 2 14.8 4.2 17 7 17 C 9 17 10.30625 15.9875 11.40625 14.6875 C 11.00625 14.0875 10.6125 13.6 10.3125 13 C 10.3125 13 10.2875 12.90625 10.1875 12.90625 C 9.2875 14.10625 8.4 15 7 15 C 5.3 15 4 13.7 4 12 C 4 10.345455 5.3454545 9 7 9 C 7.9833333 9 8.6281399 9.3417643 9.28125 9.96875 C 9.9343601 10.595736 10.53125 11.53125 11.15625 12.53125 C 11.78125 13.53125 12.43436 14.595736 13.34375 15.46875 C 14.25314 16.341764 15.483333 17 17 17 C 19.745455 17 22 14.745455 22 12 C 22 9.2 19.8 7 17 7 C 15 7 13.69375 8.0125 12.59375 9.3125 C 12.99375 9.9125 13.2875 10.40625 13.6875 10.90625 C 13.6875 11.00625 13.8125 10.99375 13.8125 11.09375 C 14.7125 9.79375 15.6 9 17 9 C 18.7 9 20 10.3 20 12 C 20 13.654545 18.654545 15 17 15 C 16.016667 15 15.37186 14.658236 14.71875 14.03125 C 14.06564 13.404264 13.46875 12.46875 12.84375 11.46875 C 12.21875 10.46875 11.56564 9.4042643 10.65625 8.53125 C 9.7468601 7.6582357 8.5166667 7 7 7 z" overflow="visible" enable-background="accumulate" font-family="Bitstream Vera Sans"/>
                    </svg>
                    &nbsp;{{'allItems' | i18n}}
                </a>
            </li>
            <li [ngClass]="{active: selectedType === cipherType.Login}">
                <a href="#" appStopClick appBlurClick (click)="selectType(cipherType.Login)">
                    <!-- <i class="fa fa-fw fa-globe" aria-hidden="true"></i>&nbsp;{{'typeLogin' | i18n}} -->
                    <svg class="icon-type" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path fill="var(--secondaryTextColor)" d="M4.674 6.391a1.34 1.34 0 0 1-.983-.408A1.34 1.34 0 0 1 3.283 5c0-.383.136-.71.408-.983.273-.272.6-.408.983-.408s.71.136.983.408c.272.273.408.6.408.983s-.136.71-.408.983a1.34 1.34 0 0 1-.983.408Zm0 2.783c-1.16 0-2.145-.406-2.957-1.218C.906 7.145.5 6.16.5 5c0-1.16.406-2.145 1.217-2.957C2.53 1.232 3.514.826 4.674.826a4 4 0 0 1 2.113.574 4.321 4.321 0 0 1 1.504 1.513h6.122L16.5 5l-3.13 3.13-1.392-1.043-1.391 1.043-1.478-1.043H8.29A4.321 4.321 0 0 1 6.787 8.6a4 4 0 0 1-2.113.574Zm0-1.391c.65 0 1.22-.198 1.713-.592.493-.394.82-.892.983-1.495h2.173l1.01.713 1.425-1.061 1.235.956L14.517 5l-.695-.696H7.37a2.805 2.805 0 0 0-.983-1.495 2.663 2.663 0 0 0-1.713-.592 2.68 2.68 0 0 0-1.965.818A2.68 2.68 0 0 0 1.89 5c0 .765.273 1.42.818 1.965a2.68 2.68 0 0 0 1.965.818Z"/></svg>
                    &nbsp;{{'typeLogin' | i18n}}
                </a>
            </li>
            <li [ngClass]="{active: selectedType === cipherType.Card}">
                <a href="#" appStopClick appBlurClick (click)="selectType(cipherType.Card)">
                    <svg class="icon-type" viewBox="0 0 17 14" xmlns="http://www.w3.org/2000/svg"><path fill="var(--secondaryTextColor)" d="M14.92.816H2.12c-.888 0-1.592.712-1.592 1.6l-.008 9.6c0 .888.712 1.6 1.6 1.6h12.8c.888 0 1.6-.712 1.6-1.6v-9.6c0-.888-.712-1.6-1.6-1.6Zm0 11.2H2.12v-4.8h12.8v4.8Zm0-8H2.12v-1.6h12.8v1.6Z"/></svg>
                    &nbsp;{{'typeCard' | i18n}}
                </a>
            </li>
            <!-- Cozy customization -->
            <!-- Disable Profiles if empty as they will be replaced by Cozy Contacts -->
            <li [ngClass]="{active: selectedType === cipherType.Identity}" *ngIf="this.typeCounts.get(cipherType.Identity) > 0">
                <a href="#" appStopClick appBlurClick (click)="selectType(cipherType.Identity)">
                    <svg class="icon-type" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#filter0_d_3096_936)"><path d="M15.992 5.874c5.857 0 10.606 4.102 10.606 9.16 0 5.06-4.749 9.16-10.606 9.16a12.12 12.12 0 0 1-3.432-.49c-1.203.936-3.069 1.722-5.596 2.356a.485.485 0 0 1-.541-.706l.18-.329c.84-1.544 1.364-2.811 1.572-3.8-1.733-1.63-2.79-3.804-2.79-6.19 0-5.06 4.749-9.16 10.607-9.16Z" fill="#fff"/></g><g clip-path="url(#clip0_3096_936)"><rect width="32" height="32" rx="10" fill="url(#paint0_linear_3096_936)"/><g filter="url(#filter1_d_3096_936)" fill="#fff"><path d="M15.99 16.016a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Zm8.85 6.028c-.68-1.907-2.795-4.028-8.85-4.028s-8.171 2.122-8.85 4.029c-.599 1.682 1.081 2.971 2.867 2.971h11.965c1.786 0 3.466-1.289 2.867-2.971Z"/></g></g><defs><filter id="filter0_d_3096_936" x="3.753" y="4.569" width="24.477" height="23.463" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".326"/><feGaussianBlur stdDeviation=".816"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_3096_936"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_3096_936" result="shape"/></filter><filter id="filter1_d_3096_936" x="4.16" y="4.731" width="23.66" height="23.714" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy=".571"/><feGaussianBlur stdDeviation="1.429"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_3096_936"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_3096_936" result="shape"/></filter><linearGradient id="paint0_linear_3096_936" x1="5.548" y1="29.127" x2="30.188" y2="1.958" gradientUnits="userSpaceOnUse"><stop offset=".23" stop-color="#F74EA9"/><stop offset="1" stop-color="#FFB2A8"/></linearGradient><clipPath id="clip0_3096_936"><path fill="#fff" d="M0 0h31.983v31.983H0z"/></clipPath></defs></svg>
                    &nbsp;{{'typeIdentity' | i18n}}
                </a>
            </li>
            <!---->
            <li *ngIf="hasNotes" [ngClass]="{active: selectedType === cipherType.SecureNote}">
                <a href="#" appStopClick appBlurClick (click)="selectType(cipherType.SecureNote)">
                    <svg class="icon-type" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                        <g fill="none" fill-rule="evenodd">
                            <path fill="#ACF5F7" d="M3 2.002C3 .896 3.89 0 4.997 0H22l7 7v22.996C29 31.103 28.105 32 27.003 32H4.997C3.894 32 3 31.11 3 29.998V2.002z"/>
                            <path fill="#0DCBCF" d="M21.5 0c-.276 0-.5.23-.5.5V8h7.5c.276 0 .5-.232.5-.5V7l-7-7h-.5zM19 23v2H9v-2h10zm4-4v2H9v-2h14zm-2-4v2H9v-2h12zm2-4v2H9v-2h14z"/>
                        </g>
                    </svg>
                    &nbsp;{{'typeSecureNote' | i18n}}
                </a>
            </li>
        </ul>
        <p *ngIf="!loaded" class="text-muted">{{'loading' | i18n}}</p>
        <ng-container *ngIf="loaded">
            <div class="heading">
                <h2>{{'folders' | i18n}}</h2>
                <button appBlurClick (click)="addFolder()" appA11yTitle="{{'addFolder' | i18n}}">
                    <i class="fa fa-plus fa-fw" aria-hidden="true"></i>
                </button>
            </div>
            <ul>
                <ng-template #recursiveCollections let-collections>
                    <li *ngFor="let c of collections" [ngClass]="{active: c.node.id === selectedCollectionId, orgNoKey: isOrgWithNoKey(c.node), collectionWithUsersToValidate: isCollectionWithUsersToValidate(c.node)}" class="navbar-entry">
                        <a href="#" appStopClick appBlurClick (click)="selectCollection(c.node)">
                            <i *ngIf="c.children.length" class="fa-fw fa" title="{{'toggleCollapse' | i18n}}" aria-hidden="true"
                                [ngClass]="{'fa-caret-right': isCollapsed(c.node), 'fa-caret-down': !isCollapsed(c.node)}"
                                (click)="collapse(c.node)" appStopProp></i>
                            <app-cozy-icon ref="folder" width="24" height="16"></app-cozy-icon>
                            &nbsp;{{c.node.name}}
                        </a>
                        <button appBlurClick (click)="deleteCollection(c.node)" appA11yTitle="{{'deleteFolder' | i18n}}">
                            <app-cozy-icon ref="trash" width="20" height="16"></app-cozy-icon>
                        </button>
                        <ul class="fa-ul" *ngIf="c.children.length && !isCollapsed(c.node)">
                            <ng-container
                                *ngTemplateOutlet="recursiveCollections; context:{ $implicit: c.children }">
                            </ng-container>
                        </ul>
                    </li>
                </ng-template>
                <ng-container *ngTemplateOutlet="recursiveCollections; context:{ $implicit: nestedCollections }">
                </ng-container>

                <li [ngClass]="{active: selectedTrash}">
                    <a href="#" appStopClick appBlurClick (click)="selectTrash()">
                        <app-cozy-icon ref="trash" width="24" height="16"></app-cozy-icon>
                        &nbsp;{{'trash' | i18n}}
                    </a>
                </li>
            </ul>
        </ng-container>
        <div class="heading">
            <h2>{{'tools' | i18n}}</h2>
        </div>
        <ul>
            <li [ngClass]="{active: importSelected }">
                <a href="#" appStopClick appBlurClick (click)="selectImport()">
                    <svg class="icon-type" xmlns="http://www.w3.org/2000/svg" viewBox="-4 -4 24 24" fill="#95999d">
                        <g id="icons/16/icon-upload" stroke="none" stroke-width="1" fill-rule="evenodd">
                            <path d="M9,7.41421356 L9,15 C9,15.5522847 8.55228475,16 8,16 C7.44771525,16 7,15.5522847 7,15 L7,7.41421356 L5.70710678,8.70710678 C5.31658249,9.09763107 4.68341751,9.09763107 4.29289322,8.70710678 C3.90236893,8.31658249 3.90236893,7.68341751 4.29289322,7.29289322 L7.29289322,4.29289322 C7.68341751,3.90236893 8.31658249,3.90236893 8.70710678,4.29289322 L11.7071068,7.29289322 C12.0976311,7.68341751 12.0976311,8.31658249 11.7071068,8.70710678 C11.3165825,9.09763107 10.6834175,9.09763107 10.2928932,8.70710678 L9,7.41421356 Z M1,3 C0.44771525,3 0,2.55228475 0,2 C0,1.44771525 0.44771525,1 1,1 L15,1 C15.5522847,1 16,1.44771525 16,2 C16,2.55228475 15.5522847,3 15,3 L1,3 Z" id="Shape"></path>
                        </g>
                    </svg>
                    &nbsp;{{'import' | i18n}}
                </a>
            </li>
            <li>
                <a href="#" appStopClick appBlurClick (click)="showFingerprint()">
                    <app-cozy-icon ref="shield" width="24" height="16"></app-cozy-icon>
                    &nbsp;{{'fingerprintPhrase' | i18n}}
                </a>
            </li>
            <li>
                <a href="#" appStopClick appBlurClick (click)="logout()">
                    <svg class="icon-type" xmlns="http://www.w3.org/2000/svg" viewBox="-4 -4 24 24">
                        <path fill="#95999d" fill-rule="evenodd" d="M2 15.005v-8.01C2 6.455 2.448 6 3 6h1V4c0-2.206 1.794-4 4-4 2.205 0 4 1.794 4 4v2h1c.556 0 1 .446 1 .995v8.01c0 .54-.449.995-1.002.995H3.002A1.003 1.003 0 0 1 2 15.005zM6 4.5C6 3.122 6.897 2 8 2s2 1.122 2 2.5V6H6V4.5zm2 4c.826 0 1.5.672 1.5 1.5 0 .552-.305 1.032-.75 1.29v2.46a.751.751 0 0 1-1.5 0v-2.46A1.49 1.49 0 0 1 6.5 10 1.5 1.5 0 0 1 8 8.5z"/>
                    </svg>
                    &nbsp;{{'lock' | i18n}}
                </a>
            </li>
        </ul>
    </div>
    <app-confirm-your-identity-dialog></app-confirm-your-identity-dialog>
    <app-button-extension></app-button-extension>
    <!-- <div class="footer">
        <app-nav class="nav"></app-nav>
    </div> -->
</div>
